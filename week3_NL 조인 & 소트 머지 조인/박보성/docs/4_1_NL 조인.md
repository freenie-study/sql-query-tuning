NL 조인
-

- 조인의 기본은 NL 조인이다.
- NL 조인은 인덱스를 활용한 조인이다.
- NL 조인은 Nested Loop 조인방식과 같은 수행 구조를 사용한다.
- 일반적으로 NL조인은 Outer와 Inner의 양쪽 테이블 모두 인덱스를 활용한다. 
- Outer쪽의 테이블은 사이즈가 크지 않으면 인덱스를 사용하지 않을 수도 있지만, Inner쪽 테이블은 반드시 사용해야한다. 그렇지않으먄 Outer 루프에서 읽은 건수만큼 Table Full Scan을 반복하기 때문이다.
- NL 조인은 수행과정에서 모두 단계를 완료하고 다음단계로 넘어가는 것이 아니라, 한 레코드씩 순차적으로 진행한다.

올바른 조인 메서드 선택
-
- 온라인 트랜잭션 처리 시스템에서는 튜닝시 일차적으로 NL조인부터 고려하는 것이 좋다.
- 성능이 느리다면, 각 단계의 수행 일량을 분석하여 과도한 랜덤 액세스가 발생하는 지점을 파악한다.
- 조인 순서를 변경하여 랜덤 액세스를 줄일 수 있는지, 더 효과적인 다른 인덱스가 있는지 등을 검토한다. 
- 인덱스의 추가와 구성변경도 고려할 수 있다.
- 모든 방안을 검토한 뒤, NL 조인으로는 결코 좋은 성능을 낼 수 없다면, 소트 머지 조인이나, 해시 조인 등을 고려할 수 있다.

NL 조인의 특징
-
- 랜덤 액세스 위주의 조인방식
  - 레코드 하나를 읽기 위해 블럭을 통째로 읽는 랜덤 액세스 방식은 설령 메모리 버퍼에서 빠르게 읽더라도 비효율이 존재한다. 
  - 인덱스 구성이 아무리 완벽해도 대량 데이터 조인시에 NL 조인이 불리한 이유이다.
- 한 레코드 씩 순차적으로 진행하는 진행방식
  - 아무리 큰 테이블을 조인하더라도 매우 빠른 응답속도를 낼 수 있다.
  - 부분처리가 가능한 상황에서 그렇다.
  - 순차적으로 진행되므로, 먼저 액세스되는 테이블 처리 범위에 따라 전체일량이 결정되는 특징이 있다.
- 인덱스 구성 전략이 특히나 중요하다는 특징
  - 조인 컬럼에 대한 인덱스 유무, 컬럼 구성 등에 따라 성능이 크게 좌우된다.

> NL 조인은 소량 데이터를 주로 처리하거나 부분범위 처리가 가능한 온라인 트랜잭션 처리 시스템에 적합한 조인 방식이다.
